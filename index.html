// GymApp: React + TypeScript Starter (med stöd för träningslogg och timer)

import React, { useState, useEffect } from "react"; import { Input } from "@/components/ui/input"; import { Button } from "@/components/ui/button";

// Dummydata för tidigare resultat const previousData = { exercise: "Bänkpress", sets: [ { weight: 60, reps: 10 }, { weight: 60, reps: 8 }, ], };

export default function WorkoutLogger() { const [sets, setSets] = useState(previousData.sets); const [timer, setTimer] = useState(0); const [isTiming, setIsTiming] = useState(false);

// Timer-funktion useEffect(() => { let interval: NodeJS.Timeout; if (isTiming) { interval = setInterval(() => { setTimer((prev) => prev + 1); }, 1000); } return () => clearInterval(interval); }, [isTiming]);

const formatTime = (sec: number) => ${Math.floor(sec / 60)}:${("0" + (sec % 60)).slice(-2)};

const handleSetChange = (index: number, field: "weight" | "reps", value: number) => { const updated = [...sets]; updated[index][field] = value; setSets(updated); };

const addSet = () => { setSets([...sets, { weight: 0, reps: 0 }]); };

return ( <div className="max-w-xl mx-auto p-4"> <h1 className="text-2xl font-bold mb-4">{previousData.exercise}</h1>

{sets.map((set, index) => (
    <div key={index} className="flex gap-2 mb-2">
      <Input
        type="number"
        value={set.weight}
        onChange={(e) => handleSetChange(index, "weight", Number(e.target.value))}
        placeholder="Vikt (kg)"
      />
      <Input
        type="number"
        value={set.reps}
        onChange={(e) => handleSetChange(index, "reps", Number(e.target.value))}
        placeholder="Reps"
      />
    </div>
  ))}

  <Button onClick={addSet} className="mb-4">+ Lägg till set</Button>

  <div className="mb-4">
    <h2 className="text-xl font-semibold">Timer: {formatTime(timer)}</h2>
    <div className="flex gap-2 mt-2">
      <Button onClick={() => setIsTiming(true)}>Start</Button>
      <Button onClick={() => setIsTiming(false)}>Paus</Button>
      <Button onClick={() => { setTimer(0); setIsTiming(false); }}>Återställ</Button>
    </div>
  </div>

  <Button>Spara session</Button>
</div>

); }

